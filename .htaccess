# Configurações para servir vídeos corretamente
<FilesMatch "\.(mp4|webm|ogg|avi|mov|m4v)$">
    # Adicionar headers para permitir acesso
    Header set Access-Control-Allow-Origin "*"
    Header set Access-Control-Allow-Methods "GET, POST, OPTIONS"
    Header set Access-Control-Allow-Headers "Origin, X-Requested-With, Content-Type, Accept"
    
    # Configurar MIME types
    AddType video/mp4 .mp4
    AddType video/webm .webm
    AddType video/ogg .ogg
    
    # Configurar cache
    ExpiresActive On
    ExpiresByType video/mp4 "access plus 1 month"
    ExpiresByType video/webm "access plus 1 month"
    ExpiresByType video/ogg "access plus 1 month"
</FilesMatch>

# Garantir que os arquivos de vídeo possam ser baixados
<FilesMatch "\.(mp4|webm|ogg)$">
    ForceType application/octet-stream
    Header set Content-Disposition attachment
</FilesMatch>

# Configurações gerais de performance
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/plain
    AddOutputFilterByType DEFLATE text/html
    AddOutputFilterByType DEFLATE text/xml
    AddOutputFilterByType DEFLATE text/css
    AddOutputFilterByType DEFLATE application/xml
    AddOutputFilterByType DEFLATE application/xhtml+xml
    AddOutputFilterByType DEFLATE application/rss+xml
    AddOutputFilterByType DEFLATE application/javascript
    AddOutputFilterByType DEFLATE application/x-javascript
</IfModule>

# Prevenir listagem de diretórios
Options -Indexes

# Configurações de segurança básicas
<IfModule mod_headers.c>
    Header always set X-Content-Type-Options nosniff
    Header always set X-Frame-Options DENY
    Header always set X-XSS-Protection "1; mode=block"
</IfModule>